version: v1alpha1
metadata:
  name: frr
  version: v1.1.12
  author: Kai Zhang (kimi.zhangkai@gmail.com), Jonathan Senecal (contact@jonathansenecal.com)
  description: |
    This system extension provides FRR BGP routing on the host with Cilium integration.
    Configuration-only approach with network announcement filtering per peer.
    v1.1.12: Revert namespace isolation (v1.1.11) - incompatible with Cilium hostNetwork=true. Keep only IPv6 loopback route-map fix.
    v1.1.11: Fix IPv6 loopback redistribution (address-family-aware route-maps) and restore namespace isolation for veth peering.
    v1.1.10: Match test VM config - use LOOPBACKS (uppercase), add BGP timers, disable SETSRC.
    v1.1.9: Remove outbound route-map for IPv6 upstream to match test VM (send all redistributed routes).
    v1.1.8: Disable SETSRC_V6 route-map to fix IPv6 loopback redistribution (causes circular dependency).
    v1.1.7: Remove passive and denymap from Cilium neighbor to match working test VM config.
    v1.1.6: Add next-hop-self for Cilium neighbor to enable route redistribution.
    v1.1.5: Set FRR as passive for Cilium peering to prevent connection collision.
    v1.1.4: Fix Cilium peering - add update-source veth-frr for BGP OPEN to succeed.
    v1.1.3: Enable MP-BGP for upstream peers (capability extended-nexthop support) - fixed build.
    v1.1.2: Enable MP-BGP for upstream peers (capability extended-nexthop support) - broken build.
    v1.1.1: Fix MP-BGP template bug (use correct peer address for neighbor config).
    v1.1.0: MP-BGP support for Cilium peering (single IPv6 session carries IPv4+IPv6).
  compatibility:
    talos:
      version: ">= v1.5.0"
