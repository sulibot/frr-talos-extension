version: v1alpha1
metadata:
  name: frr
  version: v1.6.7
  author: Kai Zhang (kimi.zhangkai@gmail.com), Jonathan Senecal (contact@jonathansenecal.com)
  description: |
    This system extension provides FRR BGP routing on the host with Cilium integration.
    v1.6.7: Add IPv4 veth address configuration for dual-stack Cilium BGP peering. Enables both IPv4 and IPv6 peering sessions with Cilium.
    v1.6.6: Re-enable network namespace isolation using unshare. Now that Dockerfile structure is fixed, this will correctly isolate FRR from the host network.
    v1.6.5: Fix Dockerfile structure - place manifest.yaml at root level. Required for Talos imager validation.
    v1.6.4: Force network namespace isolation using unshare. Fixes issue where FRR ran in host namespace despite hostNetwork: false.
    v1.6.3: Implement network namespace isolation (hostPID: true, hostNetwork: false). Mirrors host loopbacks to dummy0 for advertisement.
    v1.6.2: Fix template syntax error (missing endif) in IPv4 address family block.
    v1.6.1: Fix crash loop by making IPv4 peering optional. Enables MP-BGP over IPv6 for Cilium peering (RFC 5549).
    Configuration-only approach with network announcement filtering per peer.
  compatibility:
    talos:
      version: ">= v1.5.0"
